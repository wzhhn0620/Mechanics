# 实习知识笔记

## 1.天枢原理图
### 1）器件选型

```元件里面包含了电阻电容以及芯片等器件的聚类，```
```特殊符号中主要承载了三部分的内容，主要包含了三类，第一类的话是通用符号，主要是对于我们的电源、地还有一些端口符号进行了聚类；第二个是我们的装配件，包括螺钉还有塑胶件进行了简单聚类；第三个是测试点```

<br>
### 2）绘制操作
#### (1)连线
##### 【1】矩阵网络
![](./images/1720605680643_image.png)
将其拖动到总线上，能自动生成总线分支

<br>
##### 【2】网络辅助分析
对于设计树中的网络，会进行自动的分类，总共分成4类：

```
 1.悬挂节点  一端悬空，另一端挂靠在器件上
 2.单节点    网络两端都有器件相连
 3.悬空节点  两端都悬空
 4.多节点   多个网络相连
```
![](./images/1720611743140_image.png)


<br>
##### 【3】网表生成
点击HIT工具可以选择导出网表
![](./images/1720660231323_image.png)
分配位号可以进行选择
![](./images/1720662784229_image.png)
<br>
##### 【4】BOM清单导出
点击HIT工具有一个导出BOM
![](./images/1720662938738_image.png)

```
只能支持lst文件
```
如果想选择器件是否选焊，需要到衍生BOM表中设置
![](./images/1720667242567_image.png)

<br>
##### 【5】工程保存与备份
主要关注一个回滚操作，在文件中点击备份，可以输入备份标题以及描述
![](./images/1720663143285_image.png)
之后在文件回滚中能够找到对应的备份文件，可以直接回滚到上一次的backup备份中
![](./images/1720663222833_image.png)



## 2.器件图谱


<br>

## 3.BOM表


<br>

## 4.PI仿真



<br>


## 5.SI仿真
入口SI仿真用例
![](./images/image.png)
```这里需要注意，只有自己创建的任务是允许删除了，其他用户创建的任务是不允许删除的```
查找的时候支持用户的工号进行查找，总线配置是管理员程序才有
![](./images/1720603796795_image.png)








## 6.服务器
下图是服务器的逻辑结构：

```
处理器与处理器之间通过2个UPI（UltraPath Interconnect）总线互连，传输速率最高可达10.4GT/s。
处理器通过PCIe总线与3个PCIe Riser卡相连，通过不同的PCIe Riser卡支持不同规格的PCIe槽位。
CPU1和CPU2各支持1张OCP 2.0 Mezz卡。
RAID控制卡通过PCIe总线与CPU1相连，通过SAS信号线缆与硬盘背板相连，通过不同的硬盘背板支持多种本地存储规格。
使用LBG-2 PCH（Platform Controller Hub），通过PCH支持2个板载10GE光口。
使用Hi1710管理芯片，支持外出VGA（Video Graphic Array）、管理网口、调试串口等管理接口。
```
![](./images/1720689225177_image.png)


### 1）配置VPN
首先下载好VPN Client,之后需要在设置中代理中添加上74.14.*，如果前面有配置需要加分号隔离，最后一个不需要加
![](./images/1720677876169_image.png)


<br>
#### （1）连接服务器
需要配置一下VPN
![](./images/1720677939550_image.png)



<br>
#### （2）服务器装配

##### 【1】SAS、SATA硬盘
首先我们得明确指示灯的具体表示
![](./images/1720679148662_image.png)
![](./images/1720679219638_image.png)
![](./images/1720679267231_image.png)

##### 【2】TPM、TCM扣卡
![](./images/1720679954498_image.png)
![](./images/1720680008418_image.png)
<br>



#### （3）服务器硬件组成
##### 【1】RAID卡

```
RAID（Redundant Array of Independent Disks）是将多块物理硬盘通过RAID控制卡组合成虚拟的单块大容量硬盘使用，从而提供比单个硬盘更高的存储性能、更高的I/O性能及可靠性。

```
RAID有很多个级别，包括：

```
RAID0：RAID 0提高存储性能的原理是把连续的数据分散到多个硬盘上存取。这样，当系统有数据请求时就可以在多个硬盘上并行执行，每个硬盘执行属于它自己的那部分数据请求。
```
![](./images/1720681026241_image.png)


```
RAID1：RAID 1又称镜像（Mirror或Mirroring），即每个工作盘都有一个镜像盘，每次写数据时必须同时写入镜像盘，读数据时同时从工作盘和镜像盘读出。
```
![](./images/1720681071587_image.png)


```
RAID 1ADM：RAID 1ADM的每个工作盘都有两个镜像盘，每次写数据时必须同时写入镜像盘，读数据时同时从工作盘和镜像盘读出。
```
![](./images/1720681115117_image.png)



```
RAID5：为保障存储数据的可靠性，采用循环冗余校验方式，并将校验数据分散存储在RAID的各成员盘上。当RAID的某个成员盘出现故障时，通过其他成员盘上的数据可以重新构建故障硬盘上的数据。
```
![](./images/1720681165596_image.png)



```
RAID6：在RAID 5的基础上，RAID 6增加了第二个独立的奇偶校验信息块。
```
![](./images/1720681194047_image.png)



```
RAID10：RAID 10是将镜像和条带进行两级组合的RAID级别，即RAID 1＋RAID 0的组合形式，第一级是RAID 1，第二级是RAID 0。RAID 10是存储性能和数据安全兼顾的方案。
```
![](./images/1720681276256_image.png)



```
RAID 10ADM：RAID 10ADM是将镜像和条带进行两级组合的RAID级别，即RAID 1ADM＋RAID 0的组合形式，第一级是RAID 1ADM，第二级是RAID 0。
```
![](./images/1720681325284_image.png)


```
RAID 1E：RAID 1E为RAID 1的增强版，工作原理与RAID 1类似。RAID 1E的数据条带及数据备份贯穿在逻辑盘中所有的硬盘当中。跟RAID 1类似，数据是镜像的，逻辑盘的容量是硬盘总容量的一半，可提供数据冗余功能及较高的性能。

```
![](./images/1720681412558_image.png)


```
RAID50：RAID 50被称为镜像阵列条带，即RAID 5+RAID 0的组合形式。像RAID 0一样，数据被分区成条带，在同一时间内向多块硬盘写入；像RAID 5一样，也是以数据的校验位来保证数据的安全，且校验条带均匀分布在各个硬盘上。
```
![](./images/1720681475741_image.png)



```
RAID60：RAID 60同RAID 50类似，数据采用镜像阵列条带分布方式，即RAID 6 + RAID 0的组合形式。像RAID 0一样，数据被分区成条带，在同一时间内向多块硬盘写入
```
![](./images/1720681519210_image.png)


最终总结的规律如下：
![](./images/1720681607079_image.png)

<br>
##### 【2】网卡

```
X722网卡是一款板载以太网卡模块，集成于华为V5服务器PCH（Platform Controller Hub）桥片之中。刀片服务器提供2个10GE端口，非刀片服务器提供2个10GE端口和2个GE端口来支持NIC（Network Interface Card）应用。
```




#### （4）服务器软件
##### 【1】iBMC


```
华为iBMC智能服务器管理系统是一套嵌入式服务器管理系统，实现服务器全生命周期管理，提供服务器硬件状态监控、部署、节能、安全防护等一系列管理工具，采用标准接口构建服务器管理的生态圈，基于华为自主研发的服务器管理芯片Hi1710，采用多项创新技术，实现服务器精细化管理。
```
它具有以下功能：
1.故障诊断与管理（FDM）是iBMC提供的一系列诊断技术和工具，通过对服务器各个部件的监控，对服务器关键部件进行深入的故障诊断和预测，故障定位成功率高达93%，同时FDM还提供一系列的定位工具，帮助运维人员进行故障分析和定位。
2.动态能源管理技术（DEMT）可根据CPU负载、环境温度等输入参数，动态智能地调整各部件功耗，结合休眠技术，使设备能源管理更加高效，平均可降低15%~30%的功耗，配合服务器端到端的散热设计，可使服务器正常运行时间提升30%以上。
3.iBMC提供丰富的远程运维工具和能力，包括KVM、SOL、虚拟媒体、Web访问等，支持远程配置、升级、部署，让运维人员可以便捷地访问服务器并进行配置、恢复等操作。



##### 【2】操作系统安装


```
由于华为服务器安装的OS类型、匹配的板卡不同，用户可以选择的安装方式以及相应的板卡驱动程序也不同。此章节指导用户从计算产品兼容性查询助手中找出目标OS对应的安装方式。

华为服务器的操作系统可通过如表3-1所示的四种方式进行安装，四种安装方式特点如下。
```
![](./images/1720682686129_image.png)


**这里我们先采用Smart Provisioning的方式安装**

```
Smart Provisioning是一个操作系统的安装引导工具，简化了工程师安装操作系统和驱动的过程。此方式要求iBMC 2.64以上版本以及BIOS 0.37以上版本。

可以使用Smart Provisioning集成在主板的方式引导安装系统，也可以使用挂载Smart Provisioning镜像的方式引导安装系统。
```

**这里我们先采用直接安装的方式安装**
首先我们先要了解服务器有哪些设备
![](./images/1720751047293_image.png)
由于服务器中有RAID卡，因此先需要进入Bios配置RAID卡，才能够进行操作系统的安装






